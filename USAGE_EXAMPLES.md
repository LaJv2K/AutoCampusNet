# 校园网认证助手使用示例

## 基本使用步骤

### 1. 首次配置
```
1. 运行 campus-net-auth.exe
2. 程序会自动打开浏览器显示配置页面
3. 填写以下信息：
   - 账号: 你的校园网账号（如：2021001234）
   - 密码: 你的校园网密码
   - 检查间隔: 30秒（推荐）
4. 点击"保存配置"
```

### 2. 日常使用
```
- 程序在系统托盘运行（右下角通知区域）
- 自动检测网络状态并进行认证
- 认证成功/失败会显示系统通知
- 右键托盘图标可以访问更多功能
```

### 3. 高级配置
```
在配置页面点击"高级配置" -> "展开"：
- 检查URL: 保持默认即可
- 登录URL: 保持默认即可  
- 开机自启: 建议勾选
```

## 常见使用场景

### 场景1: 宿舍WiFi掉线重连
```
问题: 宿舍WiFi经常掉线，需要手动重新认证
解决: 
1. 连接校园网WiFi
2. 运行本程序并配置账号密码
3. 程序会自动监控网络状态
4. 一旦检测到掉线会自动重新认证
```

### 场景2: 图书馆学习时网络中断
```
问题: 图书馆网络不稳定，经常需要重新登录
解决:
1. 设置较短的检查间隔（如15-30秒）
2. 程序会及时发现网络中断并自动处理
3. 通过系统通知了解认证状态
```

### 场景3: 实验室电脑开机自动联网
```
问题: 实验室电脑重启后需要手动认证校园网
解决:
1. 在配置中启用"开机自启动"
2. 程序会在Windows启动后自动运行
3. 自动完成校园网认证，无需人工干预
```

## 状态说明

### 网络状态指示
- 🟢 **已连接**: 校园网认证成功，网络正常
- 🟡 **未连接**: 检测到网络断开，正在尝试重新认证  
- 🔴 **检查失败**: 无法连接到认证服务器或其他错误

### 通知类型
- **认证成功**: 绿色通知，表示重新连接成功
- **认证失败**: 红色通知，显示具体失败原因
- **配置变更**: 蓝色通知，提示配置已更新

## 托盘菜单功能

### 配置
- 打开Web配置页面
- 可以修改账号密码等设置
- 实时查看网络状态和运行日志

### 网络状态  
- 立即检查当前网络连接状态
- 显示检查结果通知

### 开机自启
- 切换开机自启动开关
- 需要管理员权限写入注册表

### 退出
- 完全退出程序
- 停止后台监控

## 故障排除示例

### 认证失败处理
```
1. 检查网络连接是否正常
2. 确认账号密码是否正确
3. 查看程序日志获取详细错误信息
4. 尝试手动在浏览器中认证校园网
5. 如果手动认证也失败，联系网络管理员
```

### 程序无响应处理
```
1. 右键托盘图标选择"退出"
2. 如果无法退出，使用任务管理器结束进程
3. 重新启动程序
4. 检查日志文件查找崩溃原因
```

### 开机自启失效处理
```
1. 以管理员身份运行程序
2. 重新设置开机自启
3. 或者手动添加到Windows启动项
4. 或者使用任务计划程序创建启动任务
```

## 配置文件示例

```json
{
  "account": "2021001234",
  "password": "your_password_here", 
  "check_url": "http://10.10.102.50:801/eportal/portal/online_list",
  "login_url": "http://10.10.102.50:801/eportal/portal/login?callback=dr1005&login_method=1&user_account=%2C0%2C{account}%40unicom&user_password={password}&wlan_user_ip={wlan_user_ip}&wlan_user_ipv6={wlan_user_ipv6}&wlan_user_mac=000000000000&wlan_ac_ip=&wlan_ac_name=&jsVersion=4.1.3&terminal_type=1",
  "auto_start": true,
  "check_interval": 30
}
```

## 日志文件示例

```
2024/01/01 08:00:00 程序启动
2024/01/01 08:00:01 配置加载成功
2024/01/01 08:00:02 开始网络状态检查循环
2024/01/01 08:00:02 检查网络状态...
2024/01/01 08:00:03 网络未连接，开始认证...
2024/01/01 08:00:05 认证成功
2024/01/01 08:00:30 检查网络状态...
2024/01/01 08:00:31 网络已连接
```

---

通过以上示例，您应该能够熟练使用校园网认证助手的所有功能。
