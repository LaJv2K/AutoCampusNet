# 安装部署指南

## 快速安装

### 方法一：使用预编译版本（推荐）
1. 从Releases页面下载最新的 `campus-net-auth.exe`
2. 将程序放置到您希望的目录（建议：`C:\Program Files\CampusNetAuth\`）
3. 双击运行程序
4. 首次运行会自动打开配置页面
5. 填写校园网账号和密码
6. 点击"保存配置"完成设置

### 方法二：源码编译
```bash
# 1. 确保安装Go 1.20+
go version

# 2. 下载依赖
go mod download

# 3. 编译程序
go build -ldflags "-H windowsgui" -o campus-net-auth.exe

# 4. 运行程序
./campus-net-auth.exe
```

## 详细配置

### 基本设置
1. **账号**: 输入校园网登录账号（不包含@后缀）
2. **密码**: 输入校园网登录密码
3. **检查间隔**: 设置网络状态检查频率（建议30秒）

### 高级设置
1. 点击"高级配置"的"展开"按钮
2. **检查URL**: 通常保持默认值，除非学校更改了认证服务器
3. **登录URL**: 包含认证参数的URL模板，支持变量替换
4. **开机自启**: 勾选后程序会在Windows启动时自动运行

## 使用说明

### 首次运行
1. 程序启动后会在系统托盘显示图标
2. 如果未配置账号密码，会自动打开配置页面
3. 配置完成后程序开始后台监控网络状态

### 日常使用
1. **查看状态**: 右键托盘图标选择"网络状态"
2. **修改配置**: 右键托盘图标选择"配置"
3. **退出程序**: 右键托盘图标选择"退出"

### 状态指示
- 🟢 绿色：网络已连接
- 🟡 黄色：网络未连接
- 🔴 红色：检查失败或错误

## 故障排除

### 程序启动问题
1. **权限不足**
   - 右键选择"以管理员身份运行"
   - 或将程序移动到用户目录下

2. **防火墙拦截**
   - 添加程序到Windows防火墙例外
   - 检查第三方防火墙设置

3. **杀毒软件误报**
   - 将程序添加到杀毒软件白名单
   - 或使用数字签名版本

### 认证失败问题
1. **账号密码错误**
   - 确认账号格式（通常不包含@unicom后缀）
   - 确认密码正确性

2. **网络环境问题**
   - 确保已连接到校园网WiFi
   - 检查认证服务器是否可访问

3. **URL配置错误**
   - 检查检查URL和登录URL是否正确
   - 咨询网络管理员确认认证接口

### 开机自启问题
1. **注册表权限**
   - 以管理员身份运行程序
   - 手动设置开机自启

2. **组策略限制**
   - 联系系统管理员
   - 使用计划任务替代

## 文件位置

### 配置文件
- 位置：`%USERPROFILE%\CampusNetAuth\config.json`
- 包含：账号、密码等配置信息

### 日志文件
- 位置：`%USERPROFILE%\CampusNetAuth\app.log`
- 内容：程序运行日志，故障诊断信息

### 开机自启注册表
- 位置：`HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\Run`
- 键名：`CampusNetAuth`

## 卸载程序

1. 右键托盘图标选择"退出"
2. 删除程序文件
3. 删除配置目录：`%USERPROFILE%\CampusNetAuth\`
4. 清理注册表（可选）：删除开机自启项

## 安全说明

1. **密码存储**：密码以明文形式存储在配置文件中，请确保计算机安全
2. **网络传输**：认证过程使用HTTP协议，符合校园网认证标准
3. **权限要求**：程序仅需要网络访问和注册表写入权限

## 技术支持

如遇到问题，请提供以下信息：
1. Windows版本
2. 程序版本
3. 错误截图
4. 日志文件内容

联系方式：
- GitHub Issues: [项目地址]
- 邮箱：[support@example.com]
